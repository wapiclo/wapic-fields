{"version":3,"file":"tab.min.js","sources":["tab.js"],"sourcesContent":["// Initialize tabs with localStorage persistence\n(function () {\n    // Function to get a unique key for each tab container\n    function getStorageKey(tabContainer) {\n        const containerId = tabContainer.id || 'default';\n        return `wcf-tab-${containerId}-active`;\n    }\n\n    // Function to activate a tab\n    function activateTab(tabContainer, tabId) {\n        // Reset all\n        tabContainer.querySelectorAll('.wcf-tabs-nav li').forEach(function (li) {\n            li.classList.remove('is-active');\n        });\n        tabContainer.querySelectorAll('.wcf-tab-content').forEach(function (c) {\n            c.style.display = 'none';\n        });\n\n        // Activate selected\n        const link = tabContainer.querySelector(`.wcf-tabs-nav a[href=\"${tabId}\"]`);\n        if (link) {\n            link.parentElement.classList.add('is-active');\n            const targetTab = tabContainer.querySelector(tabId);\n            if (targetTab) targetTab.style.display = 'block';\n            \n            // Store active tab in localStorage\n            localStorage.setItem(getStorageKey(tabContainer), tabId);\n        }\n    }\n\n    function TabInit() {\n        document.querySelectorAll('.wcf-tabs').forEach(function (tabContainer) {\n            const tabLinks = tabContainer.querySelectorAll('.wcf-tabs-nav a');\n            const tabContents = tabContainer.querySelectorAll('.wcf-tab-content');\n            \n            // Check for saved active tab\n            const savedTab = localStorage.getItem(getStorageKey(tabContainer));\n            const defaultTab = savedTab || (tabLinks[0] ? tabLinks[0].getAttribute('href') : '');\n\n            // Hide all tabs first\n            tabContents.forEach(function (c) {\n                c.style.display = 'none';\n            });\n            tabContainer.querySelectorAll('.wcf-tabs-nav li').forEach(function (li) {\n                li.classList.remove('is-active');\n            });\n\n            // Activate saved tab or first tab\n            if (defaultTab) {\n                activateTab(tabContainer, defaultTab);\n            }\n\n            // Click event\n            tabLinks.forEach(function (link) {\n                link.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    const tabId = this.getAttribute('href');\n                    if (tabId && tabId !== '#') {\n                        activateTab(tabContainer, tabId);\n                    }\n                });\n            });\n        });\n    }\n\n    // Clear storage only when actually navigating away (not during form submission)\n    let formSubmitted = false;\n    \n    // Detect form submission\n    document.addEventListener('submit', function() {\n        formSubmitted = true;\n    }, true);\n\n    // Only clear storage if it wasn't a form submission\n    window.addEventListener('beforeunload', function(e) {\n        if (!formSubmitted) {\n            document.querySelectorAll('.wcf-tabs').forEach(function(tabContainer) {\n                localStorage.removeItem(getStorageKey(tabContainer));\n            });\n        }\n    });\n\n    // Initialize tabs when DOM is ready\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', TabInit);\n    } else {\n        TabInit();\n    }\n})();\n"],"names":["getStorageKey","tabContainer","id","activateTab","tabId","querySelectorAll","forEach","li","classList","remove","c","style","display","link","querySelector","parentElement","add","targetTab","localStorage","setItem","TabInit","document","tabLinks","tabContents","defaultTab","getItem","getAttribute","addEventListener","e","preventDefault","this","let","formSubmitted","window","removeItem","readyState"],"mappings":"CACA,KAEI,SAASA,EAAcC,GAEnB,iBADoBA,EAAaC,IAAM,kBAE3C,CAGA,SAASC,EAAYF,EAAcG,GAE/BH,EAAaI,iBAAiB,kBAAkB,EAAEC,QAAQ,SAAUC,GAChEA,EAAGC,UAAUC,OAAO,WAAW,CACnC,CAAC,EACDR,EAAaI,iBAAiB,kBAAkB,EAAEC,QAAQ,SAAUI,GAChEA,EAAEC,MAAMC,QAAU,MACtB,CAAC,EAGD,IAAMC,EAAOZ,EAAaa,uCAAuCV,KAAS,EACtES,IACAA,EAAKE,cAAcP,UAAUQ,IAAI,WAAW,GACtCC,EAAYhB,EAAaa,cAAcV,CAAK,KACnCa,EAAUN,MAAMC,QAAU,SAGzCM,aAAaC,QAAQnB,EAAcC,CAAY,EAAGG,CAAK,EAE/D,CAEA,SAASgB,IACLC,SAAShB,iBAAiB,WAAW,EAAEC,QAAQ,SAAUL,GACrD,IAAMqB,EAAWrB,EAAaI,iBAAiB,iBAAiB,EAC1DkB,EAActB,EAAaI,iBAAiB,kBAAkB,EAI9DmB,EADWN,aAAaO,QAAQzB,EAAcC,CAAY,CAAC,IACjCqB,EAAS,GAAKA,EAAS,GAAGI,aAAa,MAAM,EAAI,IAGjFH,EAAYjB,QAAQ,SAAUI,GAC1BA,EAAEC,MAAMC,QAAU,MACtB,CAAC,EACDX,EAAaI,iBAAiB,kBAAkB,EAAEC,QAAQ,SAAUC,GAChEA,EAAGC,UAAUC,OAAO,WAAW,CACnC,CAAC,EAGGe,GACArB,EAAYF,EAAcuB,CAAU,EAIxCF,EAAShB,QAAQ,SAAUO,GACvBA,EAAKc,iBAAiB,QAAS,SAAUC,GACrCA,EAAEC,eAAe,EACXzB,EAAQ0B,KAAKJ,aAAa,MAAM,EAClCtB,GAAmB,MAAVA,GACTD,EAAYF,EAAcG,CAAK,CAEvC,CAAC,CACL,CAAC,CACL,CAAC,CACL,CAGA2B,IAAIC,EAAgB,CAAA,EAGpBX,SAASM,iBAAiB,SAAU,WAChCK,EAAgB,CAAA,CACpB,EAAG,CAAA,CAAI,EAGPC,OAAON,iBAAiB,eAAgB,SAASC,GACxCI,GACDX,SAAShB,iBAAiB,WAAW,EAAEC,QAAQ,SAASL,GACpDiB,aAAagB,WAAWlC,EAAcC,CAAY,CAAC,CACvD,CAAC,CAET,CAAC,EAG2B,YAAxBoB,SAASc,WACTd,SAASM,iBAAiB,mBAAoBP,CAAO,EAErDA,EAAQ,CAEf,GAAE"}