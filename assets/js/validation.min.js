(()=>{function l(e,t){var i=e.closest(".wcf-field"),e=document.getElementById(e.id+"_error");e&&(i.classList.add("has-field-error"),e.textContent=t,e.style.display="block")}function n(e){var t=e.closest(".wcf-field"),e=document.getElementById(e.id+"_error");e&&(t.classList.remove("has-field-error"),e.textContent="",e.style.display="none")}function c(e){return/^\d+(\.\d+)?$/.test(e.trim())}function o(e){return/^https?:\/\//i.test(e)||/^#[\w-]*$/.test(e)}function d(e){var t=e.value.trim();if((e.hasAttribute("required")||e.hasAttribute("data-required"))&&""===t)return l(e,wapic_field.validation.requiredMessage),!1;if(""!==t){if(e.classList.contains("wcf-field-email")&&!/^\S+@\S+\.\S+$/.test(t.trim()))return l(e,wapic_field.validation.validEmail),!1;if(e.classList.contains("wcf-field-number")||e.classList.contains("wcf-field-phone")){if(!c(t))return l(e,wapic_field.validation.validNumber),!1;var i=e.getAttribute("min"),r=e.getAttribute("max"),a=parseFloat(t);if(null!==i&&a<parseFloat(i))return l(e,wapic_field.validation.minNumber.replace("%s",i)),!1;if(null!==r&&a>parseFloat(r))return l(e,wapic_field.validation.maxNumber.replace("%s",r)),!1}if(e.classList.contains("wcf-field-url")&&!o(t))return l(e,wapic_field.validation.validUrl),!1;if(e.classList.contains("wcf-field-file-url")&&!o(t))return l(e,wapic_field.validation.validUrl),!1;if(i=e.closest(".wcf-field").classList.contains("regular-price"),a=e.closest(".wcf-field").classList.contains("sale-price"),i||a){r=document.querySelector(".regular-price input"),t=document.querySelector(".sale-price input");if(l(r,wapic_field.validation.compareRegularPrice),l(t,wapic_field.validation.compareSalePrice),r&&t&&c(r.value)&&c(t.value)){if(parseFloat(t.value)>parseFloat(r.value))return l(r,wapic_field.validation.compareRegularPrice),l(t,wapic_field.validation.compareSalePrice),!1;n(r),n(t)}}}return n(e),!0}function t(e){var t=e.target,i=t.querySelectorAll(".wcf-field input"),r=!0,a=[];i.forEach(function(e){var t,i;d(e)||(r=!1,t=(t=document.getElementById(e.id+"_error"))?t.textContent.trim():"",i=(i=document.querySelector('label[for="'+e.id+'"]'))?i.textContent.trim():e.name||e.id,""!==t&&a.push(i+": "+t))}),!r&&(e.preventDefault(),a=[...new Set(a)],i=wapic_field.validation.submitFailed+"\n\n"+a.map(function(e,t){return t+1+". "+e}).join("\n"),alert(i),e=t.querySelector(".has-field-error"))&&e.scrollIntoView({behavior:"smooth",block:"center"})}document.addEventListener("DOMContentLoaded",function(){document.addEventListener("input",function(e){e.target.matches(".wcf-field input")&&d(e.target)}),document.querySelectorAll("form#post, form#option, form#addtag, form#edittag").forEach(function(e){e.addEventListener("submit",t)}),document.querySelectorAll(".wcf-field input").forEach(d)})})();
//# sourceMappingURL=validation.min.js.map
