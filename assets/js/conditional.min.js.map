{"version":3,"file":"conditional.min.js","sources":["conditional.js"],"sourcesContent":["(function () {\n    // Handle conditional fields\n    function handleConditionalFields() {\n        document.querySelectorAll('[data-condition-field], [data-cond-field]').forEach(function (wrapper) {\n            var condField = wrapper.getAttribute('data-condition-field') || wrapper.getAttribute('data-cond-field');\n            var condValue = wrapper.getAttribute('data-condition-value') || wrapper.getAttribute('data-cond-value');\n\n            if (!condField) return;\n\n            var trigger = document.getElementById(condField);\n            if (!trigger) {\n                trigger = document.querySelector('[name=\"' + condField + '\"]');\n            }\n            if (!trigger) return;\n\n            var currentValue = '';\n            if (trigger.type === 'checkbox') {\n                currentValue = trigger.checked ? trigger.value : '';\n            } else if (trigger.type === 'radio') {\n                var checkedRadio = document.querySelector('[name=\"' + condField + '\"]:checked');\n                currentValue = checkedRadio ? checkedRadio.value : '';\n            } else {\n                currentValue = trigger.value;\n            }\n\n            if (String(currentValue) === String(condValue)) {\n                wrapper.hidden = false;\n                // Restore original input types\n                wrapper.querySelectorAll('input[data-original-type]').forEach(function (input) {\n                    input.type = input.getAttribute('data-original-type');\n                    input.removeAttribute('data-original-type');\n                    // Remove hidden flag if it exists\n                    const hiddenFlag = wrapper.querySelector('input[name=\"' + input.name + '_is_hidden\"]');\n                    if (hiddenFlag) {\n                        hiddenFlag.remove();\n                    }\n                });\n            } else {\n                wrapper.hidden = true;\n                // Store original input type and change to hidden\n                wrapper.querySelectorAll('input:not([type=\"hidden\"])').forEach(function (input) {\n                    if (!input.hasAttribute('data-original-type')) {\n                        input.setAttribute('data-original-type', input.type);\n                        input.type = 'hidden';\n                        // Add hidden flag for the server-side\n                        const hiddenFlag = document.createElement('input');\n                        hiddenFlag.type = 'hidden';\n                        hiddenFlag.name = input.name + '_is_hidden';\n                        hiddenFlag.value = '1';\n                        wrapper.appendChild(hiddenFlag);\n                    }\n                });\n            }\n        });\n    }\n\n    function conditionalFieldsInit() {\n        handleConditionalFields();\n\n        document.querySelectorAll('input, select, textarea').forEach(function (el) {\n            el.addEventListener('change', handleConditionalFields);\n        });\n    }\n\n    document.addEventListener('DOMContentLoaded', conditionalFieldsInit);\n})();\n"],"names":["handleConditionalFields","document","querySelectorAll","forEach","wrapper","currentValue","trigger","condField","getAttribute","condValue","getElementById","querySelector","type","checked","value","checkedRadio","String","hidden","input","removeAttribute","hiddenFlag","name","remove","hasAttribute","setAttribute","createElement","appendChild","addEventListener","el"],"mappings":"CAAA,KAEI,SAASA,IACLC,SAASC,iBAAiB,2CAA2C,EAAEC,QAAQ,SAAUC,GACrF,IAgBIC,EAVCC,EANDC,EAAYH,EAAQI,aAAa,sBAAsB,GAAKJ,EAAQI,aAAa,iBAAiB,EAClGC,EAAYL,EAAQI,aAAa,sBAAsB,GAAKJ,EAAQI,aAAa,iBAAiB,EAEjGD,IAMAD,GAJDA,EAAUL,SAASS,eAAeH,CAAS,IAEjCN,SAASU,cAAc,UAAYJ,EAAY,IAAI,KAI7DF,EAAe,GAEfA,EADiB,aAAjBC,EAAQM,KACON,EAAQO,QAAUP,EAAQQ,MAAQ,GACzB,UAAjBR,EAAQM,MACXG,EAAed,SAASU,cAAc,UAAYJ,EAAY,YAAY,GAChDQ,EAAaD,MAAQ,GAEpCR,EAAQQ,MAGvBE,OAAOX,CAAY,IAAMW,OAAOP,CAAS,GACzCL,EAAQa,OAAS,CAAA,EAEjBb,EAAQF,iBAAiB,2BAA2B,EAAEC,QAAQ,SAAUe,GACpEA,EAAMN,KAAOM,EAAMV,aAAa,oBAAoB,EACpDU,EAAMC,gBAAgB,oBAAoB,EAEpCC,EAAahB,EAAQO,cAAc,eAAiBO,EAAMG,KAAO,cAAc,EACjFD,GACAA,EAAWE,OAAO,CAE1B,CAAC,IAEDlB,EAAQa,OAAS,CAAA,EAEjBb,EAAQF,iBAAiB,4BAA4B,EAAEC,QAAQ,SAAUe,GACrE,IAIUE,EAJLF,EAAMK,aAAa,oBAAoB,IACxCL,EAAMM,aAAa,qBAAsBN,EAAMN,IAAI,EACnDM,EAAMN,KAAO,UAEPQ,EAAanB,SAASwB,cAAc,OAAO,GACtCb,KAAO,SAClBQ,EAAWC,KAAOH,EAAMG,KAAO,aAC/BD,EAAWN,MAAQ,IACnBV,EAAQsB,YAAYN,CAAU,EAEtC,CAAC,GAET,CAAC,CACL,CAUAnB,SAAS0B,iBAAiB,mBAR1B,WACI3B,EAAwB,EAExBC,SAASC,iBAAiB,yBAAyB,EAAEC,QAAQ,SAAUyB,GACnEA,EAAGD,iBAAiB,SAAU3B,CAAuB,CACzD,CAAC,CACL,CAEmE,CACtE,GAAE"}